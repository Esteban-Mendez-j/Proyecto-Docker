import{S as e,A as a}from"./sweetalert2.all.BzjA5z2z.js";const n=async o=>{let r;try{try{r=await o.json()}catch{r={}}if(console.log(o.status),o.status===401){r.error==="TOKEN_EXPIRED"?(await e.fire({text:"Tu sesión ha expirado.",icon:"error"}),window.location.href=`${a}/usuarios/cerrarSesion`):await e.fire({text:"No estás autenticado.",icon:"error"}),window.location.href=`${a}/usuarios/cerrarSesion`,r=null;return}if(o.status===403){await e.fire({text:"no autorizado",icon:"error"}),window.location.href="/404";return}if(!o.ok){await e.fire({text:r.message||"Error desconocido",icon:"error"});return}return r}catch(t){console.error("Error de red:",t),await e.fire({text:"Ocurrió un error de red.",icon:"error"})}};export{n as m};
